{"version":3,"sources":["../static/js/3.8546ff9d.chunk.js","pages/static-sites-with-create-react-app.md"],"names":["webpackJsonp","72","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","d","meta","__WEBPACK_IMPORTED_MODULE_0_react__","n","_ref","_ref$factories","factories","undefined","_factories$wrapper","wrapper","_factories$a","a","_factories$code","code","_factories$codeBlock","codeBlock","props","children","dangerouslySetInnerHTML","__html","_factories$em","em","_factories$h","h1","_factories$h2","h2","_factories$li","li","_factories$ol","ol","_factories$p","p","_factories$strong","strong","id","className","href"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,IACnCH,EAAoBI,EAAEL,EAAqB,OAAQ,WAAa,MAAOM,IACjF,IAAIC,GAAsCN,EAAoB,EACZA,GAAoBO,EAAED,EAGhEP,GAA6B,QAAI,SCV/CS,GAA2B,GAAAC,GAAAD,EAAhBE,gBAAgBC,KAAAF,OAAAG,EAapCF,EAXFG,cAFsCF,KAAAC,EAE5BX,OAAAK,EAAA,eAAc,OAFcM,EAAAE,EAapCJ,EAVFK,QAHsCJ,KAAAG,EAGlCb,OAAAK,EAAA,eAAc,KAHoBQ,EAAAE,EAapCN,EATFO,WAJsCN,KAAAK,EAI/Bf,OAAAK,EAAA,eAAc,QAJiBU,EAAAE,EAapCR,EARFS,gBALsCR,KAAAO,EAK1B,SAACE,EAAOC,GAAR,MAAqBpB,QAAAK,EAAA,eAAc,MAAOc,EAAOnB,OAAAK,EAAA,eAAc,QAAUgB,yBAA2BC,OAAQF,GAAYD,EAAMC,cALpGH,EAAAM,EAapCd,EAPFe,SANsCd,KAAAa,EAMjCvB,OAAAK,EAAA,eAAc,MANmBkB,EAAAE,EAapChB,EANFiB,SAPsChB,KAAAe,EAOjCzB,OAAAK,EAAA,eAAc,MAPmBoB,EAAAE,EAapClB,EALFmB,SARsClB,KAAAiB,EAQjC3B,OAAAK,EAAA,eAAc,MARmBsB,EAAAE,EAapCpB,EAJFqB,SATsCpB,KAAAmB,EASjC7B,OAAAK,EAAA,eAAc,MATmBwB,EAAAE,EAapCtB,EAHFuB,SAVsCtB,KAAAqB,EAUjC/B,OAAAK,EAAA,eAAc,MAVmB0B,EAAAE,EAapCxB,EAFFyB,QAXsCxB,KAAAuB,EAWlCjC,OAAAK,EAAA,eAAc,KAXoB4B,EAAAE,EAapC1B,EADF2B,aAZsC1B,KAAAyB,EAY7BnC,OAAAK,EAAA,eAAc,UAZe8B,CAexC,OAAOvB,MAETc,GAAIW,GAAM,uCACR,uCAEFH,KACE,iGAEFA,KACE,6EAEFhB,GAAWoB,UAAa,iBAAkB,2IAC1CV,GAAIS,GAAM,oCACR,6BACArB,KAAS,WAEXkB,KACE,kCACAlB,KAAS,oBACT,2EACAF,GAAGyB,KAAQ,0CACTvB,KAAS,2BAEX,QACAF,GAAGyB,KAAQ,sCACTvB,KAAS,uBAEX,KAEFkB,KACE,oIACAlB,KAAS,uBACT,SACAA,KAAS,UACT,iGACAA,KAAS,0BACT,QACAA,KAAS,sBACT,KAEFE,GAAWoB,UAAa,gBAAiB,igRACzCV,GAAIS,GAAM,sBACR,aACArB,KAAS,aAEXkB,KACE,wCACAlB,KAAS,YACT,kCACA,uFACA,YAEFgB,KACEF,KACEI,KACE,GACAE,KACE,eACApB,KAAS,SACT,mBACAF,GAAGyB,KAAQ,sCACTvB,KAAS,yBAEX,aAEF,IAEFkB,KACE,OACAlB,KAAS,wBACT,8CACAA,KAAS,UACT,+BACAA,KAAS,YACT,2BACA,wCAEFkB,KACE,0EACA,+EAEFA,KACE,iEAGJJ,KACEI,KACE,GACAE,KACE,OACApB,KAAS,oBACT,mBAEF,IAEFkB,KACE,4BACAlB,KAAS,mBACT,oCACA,+EAGJc,KACEI,KACE,GACAE,KACE,SACApB,KAAS,UACT,cAEF,IAEFkB,KACE,mFACA,iEAEFA,KACE,mFACAlB,KAAS,UACT,kFACA,iBAGJc,KACEI,KACE,GACAE,KACE,mCACApB,KAAS,UACT,cAEF,IAEFkB,KACE,iFACA,OACAlB,KAAS,QACT,gBAINkB,KACE,iDAEFhB,GAAWoB,UAAa,eAAgB,q0JACxCV,GAAIS,GAAM,mDACR,iBACArB,KAAS,SACT,mBACAA,KAAS,iBAEXkB,KACE,qEACAlB,KAAS,oBACT,aACAA,KAAS,uBACT,mBAEFE,GAAWoB,UAAa,eAAgB,0QACxCJ,KACE,iEACA,iFACA,eACAlB,KAAS,kCACT,KAEFkB,KACEV,KACE,mBACAR,KAAS,uBACT,uNAGJY,GAAIS,GAAM,gDACR,cACArB,KAAS,gBACT,gBACAA,KAAS,eAEXkB,KACE,yEACAlB,KAAS,WACT,UACAA,KAAS,cACT,mBAEFE,GAAWoB,UAAa,iBAAkB,+TAC1CV,GAAIS,GAAM,iBACR,sBAEFH,KACE,iCACAlB,KAAS,iBACT,iBAMK,IAAMZ","file":"static/js/3.8546ff9d.chunk.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"meta\", function() { return meta; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var _ref$factories = _ref.factories,\n      factories = _ref$factories === undefined ? {} : _ref$factories;\n  var _factories$wrapper = factories.wrapper,\n      wrapper = _factories$wrapper === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('div') : _factories$wrapper,\n      _factories$a = factories.a,\n      a = _factories$a === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('a') : _factories$a,\n      _factories$code = factories.code,\n      code = _factories$code === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('code') : _factories$code,\n      _factories$codeBlock = factories.codeBlock,\n      codeBlock = _factories$codeBlock === undefined ? function (props, children) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"pre\", props, Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"])(\"code\", { dangerouslySetInnerHTML: { __html: children || props.children } }));\n  } : _factories$codeBlock,\n      _factories$em = factories.em,\n      em = _factories$em === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('em') : _factories$em,\n      _factories$h = factories.h1,\n      h1 = _factories$h === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('h1') : _factories$h,\n      _factories$h2 = factories.h2,\n      h2 = _factories$h2 === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('h2') : _factories$h2,\n      _factories$li = factories.li,\n      li = _factories$li === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('li') : _factories$li,\n      _factories$ol = factories.ol,\n      ol = _factories$ol === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('ol') : _factories$ol,\n      _factories$p = factories.p,\n      p = _factories$p === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('p') : _factories$p,\n      _factories$strong = factories.strong,\n      strong = _factories$strong === undefined ? Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"createFactory\"])('strong') : _factories$strong;\n\n\n  return wrapper({}, h1({ \"id\": \"Static-builds-with-create-react-app\" }, \"Static builds with create-react-app\"), p({}, \"This article will guide you through adding static builds to a fresh create-react-app project.\"), p({}, \"Before getting started, make sure you’ve installed the dependencies:\"), codeBlock({ \"className\": \"language-bash\" }, \"<span class=\\\"token function\\\">npm</span> <span class=\\\"token function\\\">install</span> --save junctions react-junctions junctions-static\\n\"), h2({ \"id\": \"1.-Export-a-Junction-from-App.js\" }, \"1. Export a Junction from \", code({}, \"App.js\")), p({}, \"To build a static website with \", code({}, \"junctions-static\"), \", you’ll first need to define your app’s route templates with \", a({ \"href\": \"/api-reference/#createJunctionTemplate\" }, code({}, \"createJunctionTemplate\")), \" and \", a({ \"href\": \"/api-reference/#createPageTemplate\" }, code({}, \"createPageTemplate\")), \".\"), p({}, \"There are a number of approaches you can use to structure your route templates, but I recommend starting out by exporting a root \", code({}, \"AppJunctionTemplate\"), \" from \", code({}, \"App.js\"), \". Here’s an example; for more information on defining templates see the documentation on \", code({}, \"createJunctionTemplate\"), \" and \", code({}, \"createPageTemplate\"), \".\"), codeBlock({ \"className\": \"language-jsx\" }, \"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> createJunctionTemplate<span class=\\\"token punctuation\\\">,</span> createPageTemplate <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'junctions'</span>\\n<span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> logo <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./logo.svg'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">'./App.css'</span>\\n\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">App</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">Component</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">renderChild</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// The `junction` prop receives information on which of the App junction's</span>\\n    <span class=\\\"token comment\\\">// children corresponds to the current URL.</span>\\n    <span class=\\\"token keyword\\\">let</span> junction <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>junction\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> React<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">.</span>component<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token punctuation\\\">[</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">.</span>type<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">:</span> junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token number\\\">404</span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>header</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-header<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n          <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>img</span> <span class=\\\"token attr-name\\\">src</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>logo<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-logo<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">alt</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>logo<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n          <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h1</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-title<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>Welcome to React<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h1</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>header</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n        <span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">renderChild</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> AppJunctionTemplate <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">createJunctionTemplate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  children<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">createPageTemplate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'Welcome to React'</span><span class=\\\"token punctuation\\\">,</span>\\n      component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>p</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-intro<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n          To <span class=\\\"token keyword\\\">get</span> started<span class=\\\"token punctuation\\\">,</span> edit <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>code</span><span class=\\\"token punctuation\\\">></span></span>src<span class=\\\"token operator\\\">/</span>App<span class=\\\"token punctuation\\\">.</span>js<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>code</span><span class=\\\"token punctuation\\\">></span></span> and save to reload<span class=\\\"token punctuation\\\">.</span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>p</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n\\n  component<span class=\\\"token punctuation\\\">:</span> App<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\"), h2({ \"id\": \"2.-Update-index.js\" }, \"2. Update \", code({}, \"index.js\")), p({}, \"In a stock create-react-app project, \", code({}, \"index.js\"), \" just imports the App component\", \"and renders it. However, you’ll need to make a few changes to get static builds\", \"working:\"), ol({}, li({}, p({}, \"\", strong({}, \"Replace the \", code({}, \"<App>\"), \" element with a \", a({ \"href\": \"/api-reference/#JunctionNavigation\" }, code({}, \"<JunctionNavigation>\")), \" element.\"), \"\"), p({}, \"The \", code({}, \"<JunctionNavigation>\"), \" component takes the junction template from\", code({}, \"App.js\"), \", and uses it to create the \", code({}, \"junction\"), \" prop that contains your\", \"app’s current navigation state.\"), p({}, \"This component also keeps the page title up to date, handles scrolling,\", \"loads split bundles when required, and follows any redirects it encounters.\"), p({}, \"For details on how to implement this, see the example below.\")), li({}, p({}, \"\", strong({}, \"Use \", code({}, \"ReactDOM.hydrate\"), \" in production.\"), \"\"), p({}, \"This method is just like \", code({}, \"ReactDOM.render\"), \", but it lets React know that the\", \"content has been statically rendered, and is already available in the DOM.\")), li({}, p({}, \"\", strong({}, \"Add a \", code({}, \"main()\"), \" function.\"), \"\"), p({}, \"Junctions keeps track of the dependencies of each of your site’s pages, and\", \"only starts the app once those dependencies have been loaded.\"), p({}, \"Because of this, you’ll need to move your app’s bootstrap code into a \", code({}, \"main()\"), \"function, and only call it directly when in create-react-app’s development\", \"environment.\")), li({}, p({}, \"\", strong({}, \"Export our root junction, and a \", code({}, \"main()\"), \" function.\"), \"\"), p({}, \"The junctions build tool needs access to your app’s junction template and\", \"its \", code({}, \"main\"), \" function.\"))), p({}, \"Here’s what this looks like in practice:\"), codeBlock({ \"className\": \"language-js\" }, \"<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> ReactDOM <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-dom'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> AppJunctionTemplate <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./App'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> JunctionNavigation <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-junctions'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">'./index.css'</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// The `&lt;JunctionNavigation>` component re-renders the app each time</span>\\n    <span class=\\\"token comment\\\">// the browser's location changes.</span>\\n    <span class=\\\"token comment\\\">//</span>\\n    <span class=\\\"token comment\\\">// It renders the `component` property of the template defined in App.js,</span>\\n    <span class=\\\"token comment\\\">// passing in a `junction` prop with the app's navigation state.</span>\\n    <span class=\\\"token keyword\\\">let</span> content <span class=\\\"token operator\\\">=</span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>JunctionNavigation</span>\\n            <span class=\\\"token attr-name\\\">root</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>AppJunctionTemplate<span class=\\\"token punctuation\\\">}</span></span>\\n            <span class=\\\"token attr-name\\\">waitForInitialContent</span>\\n        <span class=\\\"token punctuation\\\">/></span></span>\\n\\n    <span class=\\\"token comment\\\">// React requires us to call \\\"hydrate\\\" if the content already exists in</span>\\n    <span class=\\\"token comment\\\">// the DOM, which is the case for statically rendered pages.</span>\\n    <span class=\\\"token keyword\\\">let</span> node <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getElementById</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'root'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span>NODE_ENV <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'production'</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        ReactDOM<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">hydrate</span><span class=\\\"token punctuation\\\">(</span>content<span class=\\\"token punctuation\\\">,</span> node<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n        ReactDOM<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span>content<span class=\\\"token punctuation\\\">,</span> node<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token comment\\\">// When building the static version of the app, we don't want to run the</span>\\n<span class=\\\"token comment\\\">// `main` function, as there is no DOM to render to.</span>\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span>NODE_ENV <span class=\\\"token operator\\\">!==</span> <span class=\\\"token string\\\">'production'</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token comment\\\">// Make the `root` template and `main` function available to junctions-static,</span>\\n<span class=\\\"token comment\\\">// so it knows what to render and how to start the app.</span>\\nwindow<span class=\\\"token punctuation\\\">.</span>JunctionsStaticApp <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n    root<span class=\\\"token punctuation\\\">:</span> AppJunctionTemplate<span class=\\\"token punctuation\\\">,</span>\\n    main<span class=\\\"token punctuation\\\">:</span> main\\n<span class=\\\"token punctuation\\\">}</span>\\n\"), h2({ \"id\": \"3.-Update-the-build-script-in-your-package.json\" }, \"3. Update the \", code({}, \"build\"), \" script in your \", code({}, \"package.json\")), p({}, \"To build your app’s HTML files, you’ll need to call the \", code({}, \"junctions-static\"), \"tool once \", code({}, \"react-scripts build\"), \" has completed:\"), codeBlock({ \"className\": \"language-js\" }, \"<span class=\\\"token string\\\">\\\"build\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"react-scripts build &amp;&amp; junctions-static build -m build/static/js/main.*.js -r create-react-app\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n\"), p({}, \"This tool takes the output of create-react-app’s standard\", \"build process, and builds a HTML file for each of the pages under the junction\", \"template at \", code({}, \"window.JunctionsStaticApp.root\"), \".\"), p({}, em({}, \"Did you see the \", code({}, \"-r create-react-app\"), \" argument? This tells junctions-static to use a build-in HTML renderer that works with create-react-app. But what if you need more flexibility, you can pass a custom script that renders each URL to a HTML file.\")), h2({ \"id\": \"4.-Add-the-PAGE_TITLE-variable-to-index.html\" }, \"4. Add the \", code({}, \"%PAGE_TITLE%\"), \" variable to \", code({}, \"index.html\")), p({}, \"To make sure your static pages contain the correct title, replace the \", code({}, \"<title>\"), \"tag in \", code({}, \"index.html\"), \" with this one:\"), codeBlock({ \"className\": \"language-html\" }, \"<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>title</span><span class=\\\"token punctuation\\\">></span></span>%PAGE_TITLE%<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>title</span><span class=\\\"token punctuation\\\">></span></span>\\n\"), h2({ \"id\": \"5.-That's-it!\" }, \"5. That’s it!\"), p({}, \"To build your site, just type \", code({}, \"npm run build\"), \", as before!\"));\n});\n\nvar meta = {};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.8546ff9d.chunk.js","import React, { createElement, createFactory } from 'react'\n\nexport default function({ factories={} }) {\n  const {\n    wrapper = createFactory('div'),\n    a = createFactory('a'),\n    code = createFactory('code'),\n    codeBlock = (props, children) => createElement(\"pre\", props, createElement(\"code\", { dangerouslySetInnerHTML: { __html: children || props.children } })),\n    em = createFactory('em'),\n    h1 = createFactory('h1'),\n    h2 = createFactory('h2'),\n    li = createFactory('li'),\n    ol = createFactory('ol'),\n    p = createFactory('p'),\n    strong = createFactory('strong'),\n  } = factories\n\n  return wrapper({},\n\nh1({\"id\": \"Static-builds-with-create-react-app\"},\n  \"Static builds with create-react-app\",\n),\np({},\n  \"This article will guide you through adding static builds to a fresh create-react-app project.\",\n),\np({},\n  \"Before getting started, make sure you’ve installed the dependencies:\",\n),\ncodeBlock({\"className\": \"language-bash\"}, \"<span class=\\\"token function\\\">npm</span> <span class=\\\"token function\\\">install</span> --save junctions react-junctions junctions-static\\n\"),\nh2({\"id\": \"1.-Export-a-Junction-from-App.js\"},\n  \"1. Export a Junction from \",\n  code({}, \"App.js\"),\n),\np({},\n  \"To build a static website with \",\n  code({}, \"junctions-static\"),\n  \", you’ll first need to define your app’s route templates with \",\n  a({\"href\": \"/api-reference/#createJunctionTemplate\"},\n    code({}, \"createJunctionTemplate\"),\n  ),\n  \" and \",\n  a({\"href\": \"/api-reference/#createPageTemplate\"},\n    code({}, \"createPageTemplate\"),\n  ),\n  \".\",\n),\np({},\n  \"There are a number of approaches you can use to structure your route templates, but I recommend starting out by exporting a root \",\n  code({}, \"AppJunctionTemplate\"),\n  \" from \",\n  code({}, \"App.js\"),\n  \". Here’s an example; for more information on defining templates see the documentation on \",\n  code({}, \"createJunctionTemplate\"),\n  \" and \",\n  code({}, \"createPageTemplate\"),\n  \".\",\n),\ncodeBlock({\"className\": \"language-jsx\"}, \"<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> createJunctionTemplate<span class=\\\"token punctuation\\\">,</span> createPageTemplate <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'junctions'</span>\\n<span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> logo <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./logo.svg'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">'./App.css'</span>\\n\\n\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">App</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">Component</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">renderChild</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// The `junction` prop receives information on which of the App junction's</span>\\n    <span class=\\\"token comment\\\">// children corresponds to the current URL.</span>\\n    <span class=\\\"token keyword\\\">let</span> junction <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props<span class=\\\"token punctuation\\\">.</span>junction\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> React<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createElement</span><span class=\\\"token punctuation\\\">(</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">.</span>component<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token punctuation\\\">[</span>junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">.</span>type<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">:</span> junction<span class=\\\"token punctuation\\\">.</span>activeChild<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span><span class=\\\"token punctuation\\\">></span></span><span class=\\\"token number\\\">404</span><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>div</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>header</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-header<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n          <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>img</span> <span class=\\\"token attr-name\\\">src</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>logo<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-logo<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">alt</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>logo<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n          <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h1</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-title<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>Welcome to React<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h1</span><span class=\\\"token punctuation\\\">></span></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>header</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n        <span class=\\\"token punctuation\\\">{</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">renderChild</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>div</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> AppJunctionTemplate <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">createJunctionTemplate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  children<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token function\\\">createPageTemplate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'Welcome to React'</span><span class=\\\"token punctuation\\\">,</span>\\n      component<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>p</span> <span class=\\\"token attr-name\\\">className</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>App-intro<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n          To <span class=\\\"token keyword\\\">get</span> started<span class=\\\"token punctuation\\\">,</span> edit <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>code</span><span class=\\\"token punctuation\\\">></span></span>src<span class=\\\"token operator\\\">/</span>App<span class=\\\"token punctuation\\\">.</span>js<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>code</span><span class=\\\"token punctuation\\\">></span></span> and save to reload<span class=\\\"token punctuation\\\">.</span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>p</span><span class=\\\"token punctuation\\\">></span></span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n\\n  component<span class=\\\"token punctuation\\\">:</span> App<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n\"),\nh2({\"id\": \"2.-Update-index.js\"},\n  \"2. Update \",\n  code({}, \"index.js\"),\n),\np({},\n  \"In a stock create-react-app project, \",\n  code({}, \"index.js\"),\n  \" just imports the App component\",\n  \"and renders it. However, you’ll need to make a few changes to get static builds\",\n  \"working:\",\n),\nol({},\n  li({},\n    p({},\n      \"\",\n      strong({},\n        \"Replace the \",\n        code({}, \"<App>\"),\n        \" element with a \",\n        a({\"href\": \"/api-reference/#JunctionNavigation\"},\n          code({}, \"<JunctionNavigation>\"),\n        ),\n        \" element.\",\n      ),\n      \"\",\n    ),\n    p({},\n      \"The \",\n      code({}, \"<JunctionNavigation>\"),\n      \" component takes the junction template from\",\n      code({}, \"App.js\"),\n      \", and uses it to create the \",\n      code({}, \"junction\"),\n      \" prop that contains your\",\n      \"app’s current navigation state.\",\n    ),\n    p({},\n      \"This component also keeps the page title up to date, handles scrolling,\",\n      \"loads split bundles when required, and follows any redirects it encounters.\",\n    ),\n    p({},\n      \"For details on how to implement this, see the example below.\",\n    ),\n  ),\n  li({},\n    p({},\n      \"\",\n      strong({},\n        \"Use \",\n        code({}, \"ReactDOM.hydrate\"),\n        \" in production.\",\n      ),\n      \"\",\n    ),\n    p({},\n      \"This method is just like \",\n      code({}, \"ReactDOM.render\"),\n      \", but it lets React know that the\",\n      \"content has been statically rendered, and is already available in the DOM.\",\n    ),\n  ),\n  li({},\n    p({},\n      \"\",\n      strong({},\n        \"Add a \",\n        code({}, \"main()\"),\n        \" function.\",\n      ),\n      \"\",\n    ),\n    p({},\n      \"Junctions keeps track of the dependencies of each of your site’s pages, and\",\n      \"only starts the app once those dependencies have been loaded.\",\n    ),\n    p({},\n      \"Because of this, you’ll need to move your app’s bootstrap code into a \",\n      code({}, \"main()\"),\n      \"function, and only call it directly when in create-react-app’s development\",\n      \"environment.\",\n    ),\n  ),\n  li({},\n    p({},\n      \"\",\n      strong({},\n        \"Export our root junction, and a \",\n        code({}, \"main()\"),\n        \" function.\",\n      ),\n      \"\",\n    ),\n    p({},\n      \"The junctions build tool needs access to your app’s junction template and\",\n      \"its \",\n      code({}, \"main\"),\n      \" function.\",\n    ),\n  ),\n),\np({},\n  \"Here’s what this looks like in practice:\",\n),\ncodeBlock({\"className\": \"language-js\"}, \"<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> ReactDOM <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-dom'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> AppJunctionTemplate <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./App'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> JunctionNavigation <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-junctions'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token string\\\">'./index.css'</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// The `&lt;JunctionNavigation>` component re-renders the app each time</span>\\n    <span class=\\\"token comment\\\">// the browser's location changes.</span>\\n    <span class=\\\"token comment\\\">//</span>\\n    <span class=\\\"token comment\\\">// It renders the `component` property of the template defined in App.js,</span>\\n    <span class=\\\"token comment\\\">// passing in a `junction` prop with the app's navigation state.</span>\\n    <span class=\\\"token keyword\\\">let</span> content <span class=\\\"token operator\\\">=</span>\\n        <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>JunctionNavigation</span>\\n            <span class=\\\"token attr-name\\\">root</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>AppJunctionTemplate<span class=\\\"token punctuation\\\">}</span></span>\\n            <span class=\\\"token attr-name\\\">waitForInitialContent</span>\\n        <span class=\\\"token punctuation\\\">/></span></span>\\n\\n    <span class=\\\"token comment\\\">// React requires us to call \\\"hydrate\\\" if the content already exists in</span>\\n    <span class=\\\"token comment\\\">// the DOM, which is the case for statically rendered pages.</span>\\n    <span class=\\\"token keyword\\\">let</span> node <span class=\\\"token operator\\\">=</span> document<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getElementById</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'root'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span>NODE_ENV <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">'production'</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        ReactDOM<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">hydrate</span><span class=\\\"token punctuation\\\">(</span>content<span class=\\\"token punctuation\\\">,</span> node<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n        ReactDOM<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span>content<span class=\\\"token punctuation\\\">,</span> node<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token comment\\\">// When building the static version of the app, we don't want to run the</span>\\n<span class=\\\"token comment\\\">// `main` function, as there is no DOM to render to.</span>\\n<span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span>NODE_ENV <span class=\\\"token operator\\\">!==</span> <span class=\\\"token string\\\">'production'</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n\\n<span class=\\\"token comment\\\">// Make the `root` template and `main` function available to junctions-static,</span>\\n<span class=\\\"token comment\\\">// so it knows what to render and how to start the app.</span>\\nwindow<span class=\\\"token punctuation\\\">.</span>JunctionsStaticApp <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n    root<span class=\\\"token punctuation\\\">:</span> AppJunctionTemplate<span class=\\\"token punctuation\\\">,</span>\\n    main<span class=\\\"token punctuation\\\">:</span> main\\n<span class=\\\"token punctuation\\\">}</span>\\n\"),\nh2({\"id\": \"3.-Update-the-build-script-in-your-package.json\"},\n  \"3. Update the \",\n  code({}, \"build\"),\n  \" script in your \",\n  code({}, \"package.json\"),\n),\np({},\n  \"To build your app’s HTML files, you’ll need to call the \",\n  code({}, \"junctions-static\"),\n  \"tool once \",\n  code({}, \"react-scripts build\"),\n  \" has completed:\",\n),\ncodeBlock({\"className\": \"language-js\"}, \"<span class=\\\"token string\\\">\\\"build\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"react-scripts build &amp;&amp; junctions-static build -m build/static/js/main.*.js -r create-react-app\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n\"),\np({},\n  \"This tool takes the output of create-react-app’s standard\",\n  \"build process, and builds a HTML file for each of the pages under the junction\",\n  \"template at \",\n  code({}, \"window.JunctionsStaticApp.root\"),\n  \".\",\n),\np({},\n  em({},\n    \"Did you see the \",\n    code({}, \"-r create-react-app\"),\n    \" argument? This tells junctions-static to use a build-in HTML renderer that works with create-react-app. But what if you need more flexibility, you can pass a custom script that renders each URL to a HTML file.\",\n  ),\n),\nh2({\"id\": \"4.-Add-the-PAGE_TITLE-variable-to-index.html\"},\n  \"4. Add the \",\n  code({}, \"%PAGE_TITLE%\"),\n  \" variable to \",\n  code({}, \"index.html\"),\n),\np({},\n  \"To make sure your static pages contain the correct title, replace the \",\n  code({}, \"<title>\"),\n  \"tag in \",\n  code({}, \"index.html\"),\n  \" with this one:\",\n),\ncodeBlock({\"className\": \"language-html\"}, \"<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>title</span><span class=\\\"token punctuation\\\">></span></span>%PAGE_TITLE%<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>title</span><span class=\\\"token punctuation\\\">></span></span>\\n\"),\nh2({\"id\": \"5.-That's-it!\"},\n  \"5. That’s it!\",\n),\np({},\n  \"To build your site, just type \",\n  code({}, \"npm run build\"),\n  \", as before!\",\n)\n\n  )\n}\n\nexport const meta = {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/static-sites-with-create-react-app.md"],"sourceRoot":""}